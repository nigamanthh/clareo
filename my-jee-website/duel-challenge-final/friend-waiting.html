<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clario â€“ Waiting for Friend</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,system-ui}
html,body{
  width:100%;
  height:100%;
  overflow:hidden;
  background:radial-gradient(circle at top,#1b0b2e,#05030a 80%);
  color:#fff;
}

/* STARFIELD */
#starfield{
  position:fixed;
  inset:0;
  z-index:0;
}

/* LAYOUT */
.wait-container{
  position:relative;
  z-index:2;
  width:100%;
  height:100%;
  display:grid;
  grid-template-columns:1fr 1fr;
  align-items:center;
  padding:0 10%;
}

/* ROCKETS */
.rocket{
  font-size:108px;
  transform:rotate(-45deg) scale(1.5);
  animation:pulse 2s infinite;
  transition:transform 1.4s ease;
}

.rocket.left{justify-self:start}
.rocket.right{justify-self:end;opacity:.6}

/* Fly upward */
.fly-away{
  transform:translateY(-140vh) rotate(-45deg) scale(1.5);
}

/* CENTER TEXT */
.center-text{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  letter-spacing:.6px;
  animation:textPulse 1.8s infinite;
  pointer-events:none;
}

/* ANIMATIONS */
@keyframes pulse{
  0%,100%{transform:rotate(-45deg) scale(1.5)}
  50%{transform:rotate(-45deg) scale(1.65)}
}
@keyframes textPulse{
  0%,100%{opacity:.6}
  50%{opacity:1}
}
</style>
</head>

<body>

<canvas id="starfield"></canvas>

<div class="wait-container" id="waitContainer">

  <div class="rocket left" id="rocketYou">ðŸš€</div>
  <div class="rocket right" id="rocketFriend">ðŸš€</div>

  <div class="center-text">
    <span id="statusText">Waiting for friend to pick subjectâ€¦</span>
  </div>

</div>

<script>
/* ================= STARFIELD ================= */
const canvas=document.getElementById("starfield");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

const stars=[...Array(700)].map(()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*1.6+.4,
  s:Math.random()*.6+.2
}));

(function animateStars(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#9fd3ff";
  stars.forEach(st=>{
    st.y+=st.s;
    if(st.y>canvas.height)st.y=0;
    ctx.beginPath();
    ctx.arc(st.x,st.y,st.r,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(animateStars);
})();

/* ================= WAIT FLOW ================= */
const statusText=document.getElementById("statusText");
const rocketYou=document.getElementById("rocketYou");
const rocketFriend=document.getElementById("rocketFriend");

/* Simulate friend picking subject */
setTimeout(()=>{
  statusText.innerText="Subject selected";
  rocketFriend.style.opacity="1";
},3000);

/* Fly rockets upward */
setTimeout(()=>{
  rocketYou.classList.add("fly-away");
  rocketFriend.classList.add("fly-away");
},4500);

/* Redirect to RANDOM subject duel (MVP) */
setTimeout(()=>{
  const duels=[
    "friend-duel-physics.html",
    "friend-duel-chemistry.html",
    "friend-duel-math.html"
  ];
  window.location.href=duels[Math.floor(Math.random()*duels.length)];
},6200);
</script>

</body>
</html>
